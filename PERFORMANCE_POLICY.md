# --- START OF FILE docs/PERFORMANCE_POLICY.md (v1.1 with Profiling Note) ---
# Helios.Embed Performance Policy

## v1.0.0 Performance Baseline

The official performance baseline for `Helios.Embed` v1.0.0 is captured in the file `benchmark_outputs/performance_baseline_v1.csv`. This file was generated by the `tests/benchmark_micro.py` script on a reference NVIDIA T4 GPU using `torch.cuda.Event` for high-precision, low-overhead timing.

## Regression Policy

Any future code change submitted to the `main` branch must be benchmarked against this established baseline.

A performance **regression** is defined as a statistically significant increase in `kernel_time_ms` for any of the standard benchmark configurations.

-   **Tolerance:** A regression of up to **5%** may be considered acceptable if it is accompanied by a significant improvement in functionality, stability, or accuracy.
-   **Falsification:** A regression **greater than 5%** without a compelling and documented justification is considered a **failure** and will block the code change from being merged.

## Note on Visual Profiling (Nsight Systems)

During the v1.0.0 validation, it was determined that the `nsys` version (`2022.4.2`) available in the test environment does not support the necessary Python tracing features (`--trace=python`). As such, detailed visual timeline profiling with NVTX ranges was not possible. The NVTX annotations remain in the C++ code for future use in environments with more recent versions of NVIDIA Nsight Systems. The primary performance validation relies on the quantitative data from the microbenchmark.
---
# --- END OF FILE docs/PERFORMANCE_POLICY.md (v1.1 with Profiling Note) ---